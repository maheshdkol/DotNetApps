
@{
    ViewBag.Title = "All Employees From External API";
}

<h2>All Employees From External API</h2>

<!DOCTYPE html>

<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>Index</title>
</head>
<body>
    Customer Name:<input id="txtEmployeeName" type="text" />
    <br />
    <br />
    <table id="tblEmployees" cellpadding="0" cellspacing="0">
        <tr>
            <th style="width: 120px">Employee Id</th>
            <th style="width: 120px">Employee Name</th>
            <th style="width: 120px">Employee Salary</th>
            <th style="width: 90px">Employee Age</th>
        </tr>
    </table>

    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
    <script type="text/javascript">
        $(function () {
            $("#txtEmployeeName").keyup(function () {
                GetEmployees();
            })
        }
        );

        function GetEmployees() {
            $.ajax({
                type: "GET",
                url: "/Home/GetAllEmployeesFrmExternalAPI",
                //data: "{  }",
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (Employees) {
                    var table = $("#tblEmployees");
                    table.find("tr:not(:first)").remove();
                    $.each(Employees, function (i, Employees) {
                        var table = $("#tblEmployees");
                        var row = table[0].insertRow(-1);
                        $(row).append("<td />");
                        $(row).find("td").eq(0).html(Employees.id);
                        $(row).append("<td />");
                        $(row).find("td").eq(1).html(Employees.employee_name);
                        $(row).append("<td />");
                        $(row).find("td").eq(2).html(Employees.employee_salary);
                        $(row).append("<td />");
                        $(row).find("td").eq(3).html(Employees.employee_age);
                    });
                }
            });
        }
    </script>
</body>
</html>


